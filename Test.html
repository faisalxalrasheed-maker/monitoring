
<html>
<head>
    <title>URL Monitor Debug</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="font-family: Arial; padding: 20px; background: #f0f8ff;">

<h1 style="text-align: center; color: #2196F3;">üîç URL Monitor Debug</h1>

<div style="background: yellow; padding: 15px; margin: 20px 0; border-radius: 5px;">
    <strong>Debug Console:</strong>
    <div id="debug" style="background: white; padding: 10px; margin: 10px 0; border-radius: 3px; font-family: monospace; font-size: 12px; max-height: 200px; overflow-y: auto;">
        Starting debug...
    </div>
</div>

<div style="text-align: center; margin: 30px;">
    <button id="addBtn" onclick="debugAddUrl()" style="background: #4CAF50; color: white; padding: 20px 30px; border: none; border-radius: 8px; font-size: 18px; cursor: pointer; margin: 10px;">
        + Add URL (Debug)
    </button>
    
    <button onclick="testPrompt()" style="background: #FF9800; color: white; padding: 20px 30px; border: none; border-radius: 8px; font-size: 18px; cursor: pointer; margin: 10px;">
        Test Prompt
    </button>
</div>

<div style="background: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
    <h3>Saved URLs:</h3>
    <div id="urlDisplay">None</div>
</div>

<script>
let debugOutput = document.getElementById('debug');
let urlList = [];

function log(message) {
    console.log(message);
    debugOutput.innerHTML += new Date().toLocaleTimeString() + ': ' + message + '<br>';
    debugOutput.scrollTop = debugOutput.scrollHeight;
}

function testPrompt() {
    log('Testing prompt function...');
    try {
        let result = prompt('Test prompt - enter anything:');
        log('Prompt result: ' + result);
        if (result) {
            log('Prompt working correctly');
        } else {
            log('Prompt returned null/empty');
        }
    } catch(e) {
        log('ERROR in prompt: ' + e.message);
    }
}

function debugAddUrl() {
    log('=== debugAddUrl() called ===');
    
    try {
        log('Step 1: Function started');
        
        log('Step 2: Calling prompt...');
        let url = prompt('Enter website URL (e.g., google.com):');
        log('Step 3: Prompt returned: ' + url);
        
        if (!url) {
            log('Step 4: No URL entered, stopping');
            return;
        }
        
        log('Step 5: Processing URL: ' + url);
        
        // Add https if needed
        if (!url.startsWith('http://') && !url.startsWith('https://')) {
            url = 'https://' + url;
            log('Step 6: Added https: ' + url);
        }
        
        log('Step 7: Creating URL object');
        let urlObj = {
            id: Date.now(),
            url: url,
            name: url,
            status: 'checking',
            added: new Date().toLocaleString()
        };
        
        log('Step 8: Adding to list');
        urlList.push(urlObj);
        
        log('Step 9: Saving to localStorage');
        try {
            localStorage.setItem('debug-urls', JSON.stringify(urlList));
            log('Step 10: Saved successfully');
        } catch(
